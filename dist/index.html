<!DOCTYPE html>
<html>
<head>
  <title>Swagger UI</title>
  <link href='//fonts.googleapis.com/css?family=Droid+Sans:400,700' rel='stylesheet' type='text/css'/>
  <link href='css/highlight.default.css' media='screen' rel='stylesheet' type='text/css'/>
  <link href='css/screen.css' media='screen' rel='stylesheet' type='text/css'/>
  <script type="text/javascript" src="lib/shred.bundle.js" /></script>  
  <script src='lib/jquery-1.8.0.min.js' type='text/javascript'></script>
  <script src='lib/jquery.slideto.min.js' type='text/javascript'></script>
  <script src='lib/jquery.wiggle.min.js' type='text/javascript'></script>
  <script src='lib/jquery.ba-bbq.min.js' type='text/javascript'></script>
  <script src='lib/handlebars-1.0.0.js' type='text/javascript'></script>
  <script src='lib/underscore-min.js' type='text/javascript'></script>
  <script src='lib/backbone-min.js' type='text/javascript'></script>
  <script src='lib/swagger.js' type='text/javascript'></script>
  <script src='swagger-ui.js' type='text/javascript'></script>
  <script src='lib/highlight.7.3.pack.js' type='text/javascript'></script>
  <script src='lib/jquery.base64.min.js' type='text/javascript'></script>

  <style type="text/css">
        .swagger-ui-wrap {
            max-width: 960px;
            margin-left: auto;
            margin-right: auto;
        }
        .header-wrap {
            max-width: 1975px;
            margin-left: auto;
            margin-right: auto;
        }
        #api_selector {
            float:none !important;
            margin: 0 auto;
            max-width: 1060px;
            overflow: hidden;
        }
        #input_baseUrl {
            width:315px !important;
        }
        #input_valAppCode {
            width:210px;
        }
        .icon-btn {
            cursor: pointer;
        }

        #message-bar {
            min-height: 30px;
            text-align: center;
            padding-top: 10px;
        }

        .message-success {
            color: #89BF04;
        }

        .message-fail {
            color: #cc0000;
        }
  </style>

  <script type="text/javascript">
    $(function () {
      window.swaggerUi = new SwaggerUi({
      url: $('#select_baseUrl option:selected').val(),
      dom_id: "swagger-ui-container",
      supportedSubmitMethods: ['get', 'post', 'put', 'delete'],
      onComplete: function(swaggerApi, swaggerUi){
        if(console) {
          console.log("Loaded SwaggerUI")
        }
        $('pre code').each(function(i, e) {hljs.highlightBlock(e)});
      },
      onFailure: function(data) {
        if(console) {
          console.log("Unable to Load SwaggerUI");
          console.log(data);
        }
      },
      docExpansion: "none"
    });

    <!--
    $('#input_apiKey').change(function() {
      var key = $('#input_apiKey')[0].value;
      console.log("key: " + key);
      if(key && key.trim() != "") {
        console.log("added key " + key);
        window.authorizations.add("key", new ApiKeyAuthorization("api_key", key, "query"));
      }
    });
    -->
    $('#input_password').change(function() {
      var username = $('#input_username')[0].value;
      var password = $('#input_password')[0].value;
      var auth = "Basic " + $.base64.encode(username + ":" + password);
      if(username && password && auth.trim() !== "") {
        log("added auth " + auth + " : (" + username + ":****)");
        window.authorizations.add("authorization", new ApiKeyAuthorization("authorization", auth, "header"));
      }
    });
    $('#input_appCode').change(function() {
      var appCode = $('#input_appCode')[0].value;
      if(appCode) {
        log("added appCode : " + appCode);
        window.authorizations.add("appCode", new ApiKeyAuthorization("X-Valassis-Application-Code", appCode, "header"));
      }
    });
    $('#input_languageCode').change(function() {
      var languageCode = $('#input_languageCode')[0].value || "en";
      window.authorizations.add("languageCode", new ApiKeyAuthorization("Accept-Language", languageCode, "header"));
    });
    // comment out window.swaggerUi.load() to avoid Authorization popup on first page load.
    //window.swaggerUi.load();
  });

  </script>
</head>

<body>
<div id='header'>
  <div class="header-wrap">

    <form id='api_selector'>
      <div class='input'>
        <select id="select_baseUrl" name="select_baseUrl">
          <option value="http://localhost:8080/accessmanager/api-docs">Access Manager</option>
          <option selected value="http://localhost:8080/dox-server/api-docs">Coupons Api</option>
          <option value="http://localhost:8080/offermanager-service-v2/api-docs">Offer Manager</option>
          <option value="http://localhost:8080/printmanager/api-docs">Print Manager</option>
        </select>
      </div>
      <div class='input'><input placeholder="application code (admin only)" id="input_appCode" name="appCode" size="32" type="text"/></div>
      <div class='input'><input placeholder="lang" id="input_languageCode" name="languageCode" size="4" type="text"/></div>
      <div class='input'><input placeholder="username" id="input_username" name="username" type="text"/></div>
      <div class='input'><input placeholder="password" id="input_password" name="password" type="password"/></div>
      <div class='input'><input placeholder="api_key" id="input_apiKey" name="apiKey" type="hidden"/></div>
      <div class='input'><a id="explore" href="#">Explore</a></div>
    </form>
  </div>
</div>

<div id="message-bar" class="swagger-ui-wrap">
  &nbsp;
</div>

<div id="swagger-ui-container" class="swagger-ui-wrap">

</div>

</body>

</html>
